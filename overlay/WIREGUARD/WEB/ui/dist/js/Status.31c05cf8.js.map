{"version":3,"sources":["webpack:///./src/views/Status.vue?fe8f","webpack:///./src/components/Status.vue?430d","webpack:///src/components/Status.vue","webpack:///./src/components/Status.vue?5411","webpack:///./src/components/Status.vue","webpack:///src/views/Status.vue","webpack:///./src/views/Status.vue?5ab5","webpack:///./src/views/Status.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","attrs","_v","_s","interface","name","publicKey","listenPort","type","numPeers","_e","model","value","callback","$$v","search","expression","on","reload","headers","clients","scopedSlots","_u","key","fn","ref","item","humanFileSize","receivedBytes","transmittedBytes","_l","ip","i","_f","lastHandshake","lastHandshakeRelative","error","component","VBtn","VCard","VCardText","VCardTitle","VChip","VCol","VContainer","VDataTable","VIcon","VListItem","VListItemContent","VList","VListItemSubtitle","VRow","VSpacer","VTextField","VContent"],"mappings":"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","file":"js/Status.31c05cf8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('Status')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[(_vm.dataLoaded)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" WireGuard Interface Status: \"+_vm._s(_vm.interface.name)+\" \")]),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(\"Public Key: \"+_vm._s(_vm.interface.publicKey))]),_c('v-list-item-subtitle',[_vm._v(\"Listening Port: \"+_vm._s(_vm.interface.listenPort))]),_c('v-list-item-subtitle',[_vm._v(\"Device Type: \"+_vm._s(_vm.interface.type))]),_c('v-list-item-subtitle',[_vm._v(\"Number of Peers: \"+_vm._s(_vm.interface.numPeers))])],1)],1)],1)],1)],1):_vm._e(),(_vm.dataLoaded)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" WireGuard Client Status \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.reload}},[_vm._v(\" Reload \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-reload\")])],1)],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.clients,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"item.connected\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.connected)?_c('v-icon',{attrs:{\"left\":\"\",\"color\":\"success\"}},[_vm._v(\"mdi-lan-connect\")]):_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-lan-disconnect\")])]}},{key:\"item.receivedBytes\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.humanFileSize(item.receivedBytes))+\" \")]}},{key:\"item.transmittedBytes\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.humanFileSize(item.transmittedBytes))+\" \")]}},{key:\"item.allowedIPs\",fn:function(ref){\nvar item = ref.item;\nreturn _vm._l((item.allowedIPs),function(ip,i){return _c('v-chip',{key:i,attrs:{\"color\":\"indigo\",\"text-color\":\"white\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-ip-network\")]),_vm._v(\" \"+_vm._s(ip)+\" \")],1)})}},{key:\"item.lastHandshake\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-row',[_c('p',[_vm._v(_vm._s(_vm._f(\"formatDate\")(item.lastHandshake))+\" (\"+_vm._s(item.lastHandshakeRelative)+\")\")])])]}}],null,false,1537719046)})],1)],1)],1):_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" No stats available... \")]),(_vm.enabled)?_c('v-card-text',[_vm._v(_vm._s(_vm.error))]):_c('v-card-text',[_vm._v(\"Status API integration not configured.\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container>\n      <v-row v-if=\"dataLoaded\">\n        <v-col cols=\"12\">\n          <v-card>\n            <v-card-title>\n              WireGuard Interface Status: {{ interface.name }}\n            </v-card-title>\n            <v-list-item>\n              <v-list-item-content>\n                <v-list-item-subtitle>Public Key: {{ interface.publicKey }}</v-list-item-subtitle>\n                <v-list-item-subtitle>Listening Port: {{ interface.listenPort }}</v-list-item-subtitle>\n                <v-list-item-subtitle>Device Type: {{ interface.type }}</v-list-item-subtitle>\n                <v-list-item-subtitle>Number of Peers: {{ interface.numPeers }}</v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row v-if=\"dataLoaded\">\n        <v-col cols=\"12\">\n          <v-card>\n            <v-card-title>\n              WireGuard Client Status\n              <v-spacer></v-spacer>\n              <v-text-field\n                  v-model=\"search\"\n                  append-icon=\"mdi-magnify\"\n                  label=\"Search\"\n                  single-line\n                  hide-details\n              ></v-text-field>\n              <v-spacer></v-spacer>\n              <v-btn\n                  color=\"success\"\n                  @click=\"reload\"\n              >\n                Reload\n                <v-icon right dark>mdi-reload</v-icon>\n              </v-btn>\n            </v-card-title>\n            <v-data-table\n              :headers=\"headers\"\n              :items=\"clients\"\n              :search=\"search\"\n          >\n            <template v-slot:item.connected=\"{ item }\">\n              <v-icon left v-if=\"item.connected\" color=\"success\">mdi-lan-connect</v-icon>\n              <v-icon left v-else>mdi-lan-disconnect</v-icon>\n            </template>\n            <template v-slot:item.receivedBytes=\"{ item }\">\n              {{ humanFileSize(item.receivedBytes) }}\n            </template>\n            <template v-slot:item.transmittedBytes=\"{ item }\">\n              {{ humanFileSize(item.transmittedBytes) }}\n            </template>\n            <template v-slot:item.allowedIPs=\"{ item }\">\n              <v-chip\n                  v-for=\"(ip, i) in item.allowedIPs\"\n                  :key=\"i\"\n                  color=\"indigo\"\n                  text-color=\"white\"\n              >\n                <v-icon left>mdi-ip-network</v-icon>\n                {{ ip }}\n              </v-chip>\n            </template>\n            <template v-slot:item.lastHandshake=\"{ item }\">\n              <v-row>\n                <p>{{ item.lastHandshake | formatDate }} ({{ item.lastHandshakeRelative }})</p>\n              </v-row>\n            </template>\n          </v-data-table>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row v-else>\n        <v-col cols=\"12\">\n          <v-card>\n            <v-card-title>\n              No stats available...\n            </v-card-title>\n            <v-card-text v-if=\"enabled\">{{ error }}</v-card-text>\n            <v-card-text v-else>Status API integration not configured.</v-card-text>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n</template>\n<script>\n  import { mapActions, mapGetters } from 'vuex'\n\n  export default {\n    name: 'Status',\n\n    data: () => ({\n      search: '',\n      headers: [\n        { text: 'Connected', value: 'connected', },\n        { text: 'Name', value: 'name', },\n        { text: 'Endpoint', value: 'endpoint', },\n        { text: 'IP addresses', value: 'allowedIPs', sortable: false, },\n        { text: 'Received Bytes', value: 'receivedBytes', },\n        { text: 'Transmitted Bytes', value: 'transmittedBytes', },\n        { text: 'Last Handshake', value: 'lastHandshake',} ,\n      ],\n    }),\n\n    computed:{\n      ...mapGetters({\n        interface: 'status/interfaceStatus',\n        clients: 'status/clientStatus',\n        enabled: 'status/enabled',\n        error: 'status/error',\n      }),\n      dataLoaded: function () {\n        return this.enabled && this.interface != null && this.interface.name !== \"\";\n      }\n    },\n\n    mounted () {\n      this.readEnabled()\n      if(this.enabled) {\n        this.readStatus()\n      }\n    },\n\n    watch: {\n      enabled(newValue, oldValue) {\n        if (this.enabled) {\n          this.readStatus()\n        }\n      },\n    },\n\n    methods: {\n      ...mapActions('status', {\n        readStatus: 'read',\n        readEnabled: 'isEnabled',\n      }),\n\n      reload() {\n        this.readStatus()\n      },\n\n      // https://stackoverflow.com/questions/10420352/converting-file-size-in-bytes-to-human-readable-string\n      humanFileSize(bytes, si=false, dp=1) {\n        const thresh = si ? 1000 : 1024;\n\n        if (Math.abs(bytes) < thresh) {\n          return bytes + ' B';\n        }\n\n        const units = si\n            ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n            : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n        let u = -1;\n        const r = 10**dp;\n\n        do {\n          bytes /= thresh;\n          ++u;\n        } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\n\n\n        return bytes.toFixed(dp) + ' ' + units[u];\n      }\n    }\n  };\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Status.vue?vue&type=template&id=d2637a66&\"\nimport script from \"./Status.vue?vue&type=script&lang=js&\"\nexport * from \"./Status.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VChip,VCol,VContainer,VDataTable,VIcon,VListItem,VListItemContent,VListItemSubtitle,VRow,VSpacer,VTextField})\n","<template>\n  <v-content>\n    <Status/>\n  </v-content>\n</template>\n\n<script>\n  import Status from '../components/Status'\n\n  export default {\n    name: 'status',\n    components: {\n      Status\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Status.vue?vue&type=template&id=e1c080b2&\"\nimport script from \"./Status.vue?vue&type=script&lang=js&\"\nexport * from \"./Status.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VContent})\n"],"sourceRoot":""}